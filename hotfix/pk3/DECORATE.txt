actor "Ghetto Blaster": DoomWeapon
{
    Weapon.SelectionOrder 200

    Inventory.PickupMessage "$JKE_PK_GHETTOBLASTER"
    Obituary "$JKE_MP_GHETTOBLASTER"

    Scale 0.5

    States
    {
      Select:
        GBLS A 1 A_Raise
        Loop

      Deselect:
        GBLS A 0 A_StopSoundEx("Weapon")
        goto Deselect2

      Deselect2:
        GBLS A 1 A_Lower
        loop

      Ready:
        GBLS A 0 A_StopSoundEx("SoundSlot6")
        GBLS A 1 A_WeaponReady
        loop

      Fire:
        GBLS A 0 A_PlaySoundEx("jkemod/ghettoblaster/rickroll", "SoundSlot6", 1)
        GBLS A 1 A_FireCustomMissile("GhettoRickroll")
        GBLS A 0 A_Refire
        GBLS A 0 A_StopSound(6)
        goto Ready


      AltFire:
        GBLS A 0 A_PlaySound("jkemod/ghettoblaster/explode", CHAN_WEAPON)
        GBLS A 0 A_FireCustomMissile("GhettoExplosion")
        GBLS A 210
        goto Ready

      Spawn:
        GBLS B -1
        Stop
    }
}
